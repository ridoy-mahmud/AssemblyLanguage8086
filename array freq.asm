.MODEL SMALL
.STACK 100H
.DATA

ARRAY DW 1, 2, 3, 4, 5, 2, 3, 1, 4, 5 
ARRAY_SIZE EQU ($ARRAY) / 2 
FREQUENCY_MSG DB 'FREQUENCY %D: %D$' 
NEWLINE DB 0XA, 0XD, '$'

.CODE

MOV AX,@DATA
MOV DS, AX

MOV CX, ARRAY_SIZE

LEA DI, [ARRAY]

OUTER_LOOP:

MOV AX, [DI]

MOV DX, 0

LEA SI, [ARRAY]

INNER_LOOP:

CMP AX, [SI]
JE INCREMENT_FREQUENCY

ADD SI, 2

LOOP INNER_LOOP

MOV AH, 9
LEA DX, [FREQUENCY_MSG]
INT 21H

JMP NEXT_ITERATION

INCREMENT_FREQUENCY:
INC DX

NEXT_ITERATION:
MOV AH, 9 
LEA DX, [NEWLINE]
INT 21H

MOV AH, 2
MOV DL, '0'
ADD DL, [DI]
INT 21H
MOV DL, ':'
INT 21H

MOV AH, 2
MOV DL, 0
ADD DL, DH
INT 21H

MOV AH, 9
LEA DX, [NEWLINE]
INT 21H

ADD DI, 2
LOOP OUTER_LOOP
MOV AH, 4CH ; EXIT

INT 21H